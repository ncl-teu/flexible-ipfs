<?xml version="1.0" encoding="UTF-8"?>
<project name="ipfsncl" default="dist" basedir=".">
    <description>This buildfile was generated by GenerateAnt plugin for IntelliJ IDEA</description>
    <!--set global properties for this build-->
    <property name="src" location="src/main/java" />
    <property name="build" location="classes/production/nabu-master" />
    <property name="lib" location="lib" />
    <property name="dist" location="dist" />
    <property name="distlib" location="dist/lib" />
    <property name="docs" location="docs" />


    <target name="clean">
        <!--Delete created directory trees-->
        <delete dir="${build}" includeEmptyDirs="true" />
        <delete includeEmptyDirs="true">
            <fileset dir="${dist}" excludes="lib/**" />
        </delete>
        <delete dir="${docs}" includeEmptyDirs="true" />
    </target>
    <target name="init">
        <!--creates the build directory-->
        <mkdir dir="${build}" />
        <mkdir dir="${dist}" />
        <mkdir dir="${distlib}" />
        <mkdir dir="${docs}" />


    </target>
    <target name="resources">
        <copy todir="${build}">
            <fileset dir="${src}">
                <include name="**/*.jpe" />
                <include name="**/*.jpeg" />
                <include name="**/*.rmf" />
                <include name="**/*.wav" />
                <include name="**/*.mid" />
                <include name="**/*.midi" />
                <include name="**/*.au" />
                <include name="**/*.gif" />
                <include name="**/*.png" />
                <include name="**/*.aiff" />
                <include name="**/*.properties" />
            </fileset>
        </copy>
    </target>
    <target name="compile" depends="init, resources">
        <!--Compiles the java code from ${src} directory into ${build} directory-->
        <javac encoding="utf-8" destdir="${build}" source="11" target="11">
            <!--<javac encoding="utf-8" destdir="${build}">-->
            <src path="${src}" />

            <classpath path="${lib}/ipfslib.jar" />
            <classpath path="${lib}/jackson-core-2.15.2.jar" />
            <classpath path="${lib}/jackson-databind-2.15.2" />
            <classpath path="${lib}/commons-math-2.0.jar" />
            <!--<exclude name="**/*Test.java" />
            <exclude name="**/Test*.java" />  -->
        </javac>
    </target>
    <target name="dist" depends="compile,build">
        <!--Put everything in ${build} into the MyProject-${DSTAMP}.jar file-->
        <tstamp />
        <jar jarfile="${dist}/gripps-${DSTAMP}.jar" basedir="${build}" />
    </target>
    <target name="doc" depends="init">
        <javadoc destdir="${docs}" author="true" version="true" use="true" windowtitle="API for gripps" encoding="UTF-8">
            <fileset dir="${src}" defaultexcludes="yes">
                <!--<exclude name="**/*Test.java" />
                <exclude name="**/Test*.java" />  -->
            </fileset>
        </javadoc>
    </target>




    <target name="encoding">
        <native2ascii src="src" dest="src2">
            <!-- <exclude name="**/*.java" />-->
            <include name="**/*.java" />
            <include name="**/*.properties" />
        </native2ascii>
    </target>

<!--
    <target name="dist_ccn" depends="build">
        <jar jarfile="${lib}/ncl-ccn.jar" basedir="${build}"  includes="net/gripps/ccn/**"/>
    </target>
-->




    <target name="build" depends="compile">
        <jar jarfile="${lib}/ipfs-ncl.jar" basedir="${build}">

        </jar>
    </target>
</project>

